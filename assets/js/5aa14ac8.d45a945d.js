"use strict";(self.webpackChunkpub_build=self.webpackChunkpub_build||[]).push([[3679],{302:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>t,contentTitle:()=>l,default:()=>f,frontMatter:()=>d,metadata:()=>c,toc:()=>o});var s=n(1085),i=n(1184);const d={title:"NodeBufferStore",last_update:{date:"9/5/2024",author:"Automation"}},l=void 0,c={id:"BufferStore/classes/NodeBufferStore",title:"NodeBufferStore",description:"DBPF.js v1.1.0 \u2022 Docs",source:"@site/docs/BufferStore/classes/NodeBufferStore.md",sourceDirName:"BufferStore/classes",slug:"/BufferStore/classes/NodeBufferStore",permalink:"/DBPF.js/docs/BufferStore/classes/NodeBufferStore",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:17254944e5,frontMatter:{title:"NodeBufferStore",last_update:{date:"9/5/2024",author:"Automation"}}},t={},o=[{value:"Remarks",id:"remarks",level:2},{value:"Extends",id:"extends",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new NodeBufferStore()",id:"new-nodebufferstore",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"See",id:"see",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"_blob",id:"blob",level:3},{value:"Defined in",id:"defined-in",level:4},{value:"/ _direct",id:"-direct",level:3},{value:"See",id:"see",level:4},{value:"Param",id:"param",level:4},{value:"Param",id:"param",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"/ _path",id:"-path",level:3},{value:"Defined in",id:"defined-in",level:4},{value:"count",id:"count",level:3},{value:"Inherited from",id:"inherited-from",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"length",id:"length",level:3},{value:"Inherited from",id:"inherited-from",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"segment / _size",id:"segment--size",level:3},{value:"Inherited from",id:"inherited-from",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Accessors",id:"accessors",level:2},{value:"_file",id:"file",level:3},{value:"See",id:"see",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Methods",id:"methods",level:2},{value:"_read()",id:"read",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"See",id:"see",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"get()",id:"get",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Inherited from",id:"inherited-from",level:4},{value:"Defined in",id:"defined-in",level:4}];function h(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"/DBPF.js/docs/API",children:(0,s.jsx)(r.strong,{children:"DBPF.js v1.1.0"})})," \u2022 ",(0,s.jsx)(r.strong,{children:"Docs"})]}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"/DBPF.js/docs/API",children:"DBPF.js v1.1.0"})," / ",(0,s.jsx)(r.a,{href:"/DBPF.js/docs/BufferStore/",children:"BufferStore"})," / NodeBufferStore"]}),"\n",(0,s.jsx)(r.h1,{id:"class-nodebufferstore",children:"Class: NodeBufferStore"}),"\n",(0,s.jsx)(r.p,{children:"A buffer store for Node.js environments."}),"\n",(0,s.jsx)(r.h2,{id:"remarks",children:"Remarks"}),"\n",(0,s.jsx)(r.p,{children:"This class is designed to work with both Blobs/File objects and file paths."}),"\n",(0,s.jsx)(r.h2,{id:"extends",children:"Extends"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"constructors",children:"Constructors"}),"\n",(0,s.jsx)(r.h3,{id:"new-nodebufferstore",children:"new NodeBufferStore()"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"new NodeBufferStore"}),"(",(0,s.jsx)(r.code,{children:"file"}),", ",(0,s.jsx)(r.code,{children:"segment_options"}),"): ",(0,s.jsx)(r.a,{href:"/DBPF.js/docs/BufferStore/classes/NodeBufferStore",children:(0,s.jsx)(r.code,{children:"NodeBufferStore"})})]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"file"}),": ",(0,s.jsx)(r.code,{children:"string"})," | ",(0,s.jsx)(r.code,{children:"Blob"})," | ",(0,s.jsx)(r.code,{children:"File"})]}),"\n",(0,s.jsx)(r.p,{children:"The Blob/File object or file path to read from."}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"segment_options"}),": ",(0,s.jsx)(r.code,{children:"Partial"}),"<",(0,s.jsx)(r.code,{children:"SegmentOptions"}),"> = ",(0,s.jsx)(r.code,{children:"{}"})]}),"\n",(0,s.jsx)(r.h4,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"/DBPF.js/docs/BufferStore/classes/NodeBufferStore",children:(0,s.jsx)(r.code,{children:"NodeBufferStore"})})}),"\n",(0,s.jsx)(r.h4,{id:"see",children:"See"}),"\n",(0,s.jsx)(r.p,{children:"SegmentOptions"}),"\n",(0,s.jsx)(r.h4,{id:"overrides",children:"Overrides"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore.constructor"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L270",children:"src/BufferStore.ts:270"})}),"\n",(0,s.jsx)(r.h2,{id:"properties",children:"Properties"}),"\n",(0,s.jsx)(r.h3,{id:"blob",children:"_blob"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"private"})," ",(0,s.jsx)(r.strong,{children:"_blob"}),": ",(0,s.jsx)(r.code,{children:"undefined"})," | ",(0,s.jsx)(r.code,{children:"Blob"})," | ",(0,s.jsx)(r.code,{children:"File"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The file property for the Node.js backing store, if it is a Blob or File object."}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L281",children:"src/BufferStore.ts:281"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"-direct",children:"/ _direct"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"protected"})," ",(0,s.jsx)(r.code,{children:"readonly"})," ",(0,s.jsx)(r.strong,{children:"_direct"}),": ",(0,s.jsx)(r.code,{children:"BufferStoreDirect"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The Node.js implementation of the direct buffer getter for retrieving buffer segments directly from the file system."}),"\n",(0,s.jsx)(r.h4,{id:"see",children:"See"}),"\n",(0,s.jsx)(r.p,{children:"BaseBufferStore._direct"}),"\n",(0,s.jsx)(r.h4,{id:"param",children:"Param"}),"\n",(0,s.jsx)(r.p,{children:"The offset in the buffer to start reading from."}),"\n",(0,s.jsx)(r.h4,{id:"param",children:"Param"}),"\n",(0,s.jsx)(r.p,{children:"The length of the buffer to read."}),"\n",(0,s.jsx)(r.h4,{id:"overrides",children:"Overrides"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore._direct"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L339",children:"src/BufferStore.ts:339"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"-path",children:"/ _path"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"private"})," ",(0,s.jsx)(r.strong,{children:"_path"}),": ",(0,s.jsx)(r.code,{children:"undefined"})," | ",(0,s.jsx)(r.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The file property for the Node.js backing store, if it is a file path."}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L285",children:"src/BufferStore.ts:285"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"count",children:"count"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"readonly"})," ",(0,s.jsx)(r.strong,{children:"count"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The number of segments in the cache."}),"\n",(0,s.jsx)(r.h4,{id:"inherited-from",children:"Inherited from"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore.count"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L199",children:"src/BufferStore.ts:199"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"length",children:"length"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"readonly"})," ",(0,s.jsx)(r.strong,{children:"length"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The length of the file in bytes."}),"\n",(0,s.jsx)(r.h4,{id:"inherited-from",children:"Inherited from"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore.length"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L185",children:"src/BufferStore.ts:185"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"segment--size",children:"segment / _size"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"readonly"})," ",(0,s.jsx)(r.strong,{children:"segment_size"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The size of each segment in bytes."}),"\n",(0,s.jsx)(r.h4,{id:"inherited-from",children:"Inherited from"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore.segment_size"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L192",children:"src/BufferStore.ts:192"})}),"\n",(0,s.jsx)(r.h2,{id:"accessors",children:"Accessors"}),"\n",(0,s.jsx)(r.h3,{id:"file",children:"_file"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"set"})," ",(0,s.jsx)(r.code,{children:"protected"})," ",(0,s.jsx)(r.strong,{children:"_file"}),"(",(0,s.jsx)(r.code,{children:"file"}),"): ",(0,s.jsx)(r.code,{children:"void"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The setter for the file property."}),"\n",(0,s.jsx)(r.h4,{id:"see",children:"See"}),"\n",(0,s.jsx)(r.p,{children:"BaseBufferStore._file"}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"file"}),": ",(0,s.jsx)(r.code,{children:"string"})," | ",(0,s.jsx)(r.code,{children:"Blob"})," | ",(0,s.jsx)(r.code,{children:"File"})]}),"\n",(0,s.jsx)(r.h4,{id:"overrides",children:"Overrides"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore._file"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L290",children:"src/BufferStore.ts:290"})}),"\n",(0,s.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(r.h3,{id:"read",children:"_read()"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"protected"})," ",(0,s.jsx)(r.strong,{children:"_read"}),"(",(0,s.jsx)(r.code,{children:"index"}),"): ",(0,s.jsx)(r.code,{children:"Promise"}),"<",(0,s.jsx)(r.code,{children:"BufferStoreEntry"}),">"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The Node.js implementation of the cache fallthrough method for retrieving non-cached buffer segments."}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"index"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n",(0,s.jsx)(r.p,{children:"The index of the buffer segment to read from the file system."}),"\n",(0,s.jsx)(r.h4,{id:"returns",children:"Returns"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"Promise"}),"<",(0,s.jsx)(r.code,{children:"BufferStoreEntry"}),">"]}),"\n",(0,s.jsx)(r.h4,{id:"see",children:"See"}),"\n",(0,s.jsx)(r.p,{children:"BaseBufferStore._read"}),"\n",(0,s.jsx)(r.h4,{id:"overrides",children:"Overrides"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore._read"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L310",children:"src/BufferStore.ts:310"})}),"\n",(0,s.jsx)(r.hr,{}),"\n",(0,s.jsx)(r.h3,{id:"get",children:"get()"}),"\n",(0,s.jsxs)(r.blockquote,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"get"}),"(",(0,s.jsx)(r.code,{children:"offset"}),", ",(0,s.jsx)(r.code,{children:"length"}),"): ",(0,s.jsx)(r.code,{children:"BufferReader"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Retrieves a buffer by its offset and length and wraps it in a BufferReader."}),"\n",(0,s.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"offset"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n",(0,s.jsxs)(r.p,{children:["\u2022 ",(0,s.jsx)(r.strong,{children:"length"}),": ",(0,s.jsx)(r.code,{children:"number"})]}),"\n",(0,s.jsx)(r.h4,{id:"returns",children:"Returns"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BufferReader"})}),"\n",(0,s.jsx)(r.h4,{id:"inherited-from",children:"Inherited from"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.code,{children:"BaseBufferStore.get"})}),"\n",(0,s.jsx)(r.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/anonhostpi/DBPF.js/blob/8b479ac69f22ef57cb2aeb49cf4275be4cf51da4/src/BufferStore.ts#L254",children:"src/BufferStore.ts:254"})})]})}function f(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},1184:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>c});var s=n(4041);const i={},d=s.createContext(i);function l(e){const r=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(d.Provider,{value:r},e.children)}}}]);